[{"path":"http://corymccartan.com/causaltbl/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 Cory McCartan Christopher T. Kenny Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"http://corymccartan.com/causaltbl/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Cory McCartan. Author, maintainer. Christopher T. Kenny. Author.","code":""},{"path":"http://corymccartan.com/causaltbl/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"McCartan C, Kenny C (2023). causaltbl: Tidy Causal Data Frames Tools. https://github.com/CoryMcCartan/causaltbl, http://corymccartan.com/causaltbl/.","code":"@Manual{,   title = {causaltbl: Tidy Causal Data Frames and Tools},   author = {Cory McCartan and Christopher T. Kenny},   year = {2023},   note = {https://github.com/CoryMcCartan/causaltbl, http://corymccartan.com/causaltbl/}, }"},{"path":"http://corymccartan.com/causaltbl/index.html","id":"causaltbl-","dir":"","previous_headings":"","what":"Tidy Causal Data Frames and Tools","title":"Tidy Causal Data Frames and Tools","text":"package provides causal_tbl class causal inference. causal_tbl subclass tibble keeps track information roles variables like treatment outcome, provides functionality store models fitted values columns data frame.","code":""},{"path":"http://corymccartan.com/causaltbl/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Tidy Causal Data Frames and Tools","text":"can install development version causaltbl GitHub :","code":"# install.packages(\"remotes\") remotes::install_github(\"CoryMcCartan/causaltbl\")"},{"path":"http://corymccartan.com/causaltbl/index.html","id":"using-causaltbl","dir":"","previous_headings":"","what":"Using causaltbl","title":"Tidy Causal Data Frames and Tools","text":"causal tibble, causal_tbl, data frame attributes identifying columns correspond common inputs causal inference analyses. basic level, can indicate outcome treatment columns. involved analyses, causal_tbls can keep track additional columns including multiple outcomes multiple treatments. primary entryway causaltbl . can create causal_tbl directly via causal_tbl(). Suppose data really simple differences differences design. data looks like : two units (id), b. 4 yearly observations 2015 2018 (year) unit. never treated b treated 2017 2018 (trt). outcome (y) measured yearly. first can make causal_tbl passing df causal_tbl(). don’t need specify options. Now causal_tbl version df. set outcome , can use corresponding functions set_outcome(). causal_tbl uses tidy evaluation, can use bare column name. Similarly, can indicate treatment column trt panel structure id-year corresponding set_treatment() set_panel() functions. sets attributes used --line packages. can retrieve calling getters. outcome, get_outcome(): treatment, get_treatment(): panel structure, get_panel(): information using causal_tbls designing functions use causal_tbls, see Advanced causal_tbl vignette.","code":"df <- data.frame(   id = c(\"a\", \"a\", \"a\", \"a\", \"b\", \"b\", \"b\", \"b\"),   year = rep(2015:2018, 2),   trt = c(0, 0, 0, 0, 0, 0, 1, 1),   y = c(1, 3, 2, 3, 2, 4, 4, 5) ) library(causaltbl) did <- causal_tbl(df) did #> # A <causal_tbl> [8 × 4] #>                           #>   id     year   trt     y #>   <chr> <int> <dbl> <dbl> #> 1 a      2015     0     1 #> 2 a      2016     0     3 #> 3 a      2017     0     2 #> 4 a      2018     0     3 #> 5 b      2015     0     2 #> 6 b      2016     0     4 #> 7 b      2017     1     4 #> 8 b      2018     1     5 did <- did |>     set_outcome(outcome = y) did #> # A <causal_tbl> [8 × 4] #>                     [out] #>   id     year   trt     y #>   <chr> <int> <dbl> <dbl> #> 1 a      2015     0     1 #> 2 a      2016     0     3 #> 3 a      2017     0     2 #> 4 a      2018     0     3 #> 5 b      2015     0     2 #> 6 b      2016     0     4 #> 7 b      2017     1     4 #> 8 b      2018     1     5 did <- did |>     set_treatment(treatment = trt) |>     set_panel(unit = id, time = year) did #> # A <causal_tbl> [8 × 4] #>   [unit] [time] [trt] [out] #>   id       year   trt     y #>   <chr>   <int> <dbl> <dbl> #> 1 a        2015     0     1 #> 2 a        2016     0     3 #> 3 a        2017     0     2 #> 4 a        2018     0     3 #> 5 b        2015     0     2 #> 6 b        2016     0     4 #> 7 b        2017     1     4 #> 8 b        2018     1     5 get_outcome(did) #> [1] \"y\" get_treatment(did) #>     y  #> \"trt\" get_panel(did) #> $unit #> [1] \"id\" #>  #> $time #> [1] \"year\""},{"path":"http://corymccartan.com/causaltbl/reference/causal_cols.html","id":null,"dir":"Reference","previous_headings":"","what":"Work directly with causal_cols — causal_cols","title":"Work directly with causal_cols — causal_cols","text":"functions aimed developers wish extend causal_tbl functionality.","code":""},{"path":"http://corymccartan.com/causaltbl/reference/causal_cols.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Work directly with causal_cols — causal_cols","text":"","code":"causal_cols(data)  causal_cols(data) <- value  set_causal_col(data, what, ...)  add_causal_col(data, what, ..., ptype = NULL)  get_causal_col(data, what)"},{"path":"http://corymccartan.com/causaltbl/reference/causal_cols.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Work directly with causal_cols — causal_cols","text":"data causal_tbl. value New value causal_cols. causal column get set. ... Named attributes add data's causal attributes. ptype type coerce single added column .","code":""},{"path":"http://corymccartan.com/causaltbl/reference/causal_cols.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Work directly with causal_cols — causal_cols","text":"Varies. Setter methods return original data, perhaps invisibly.","code":""},{"path":"http://corymccartan.com/causaltbl/reference/causal_cols.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Work directly with causal_cols — causal_cols","text":"causal_cols(data) <- value: Set causal_cols set_causal_col(): Set column(s) causal_col add_causal_col(): Add single column causal_col get_causal_col(): Get column name requested variable","code":""},{"path":"http://corymccartan.com/causaltbl/reference/causal_cols.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Work directly with causal_cols — causal_cols","text":"","code":"data <- data.frame(   milk_first = c(0, 1, 0, 1, 1, 0, 0, 1),   guess = c(0, 1, 0, 1, 1, 0, 0, 1) ) |>   set_causal_col(\"treatment\", guess=milk_first) print(data) #> # A <causal_tbl> [8 × 2] #>                    #>   milk_first guess #>        <dbl> <dbl> #> 1          0     0 #> 2          1     1 #> 3          0     0 #> 4          1     1 #> 5          1     1 #> 6          0     0 #> 7          0     0 #> 8          1     1 get_causal_col(data, \"treatment\") #>        guess  #> \"milk_first\"  causal_cols(data) #> $outcomes #> NULL #>  #> $treatments #> NULL #>  #> $treatment #>        guess  #> \"milk_first\"  #>"},{"path":"http://corymccartan.com/causaltbl/reference/causal_idx.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct a list of indices of type causal_idx — causal_idx","title":"Construct a list of indices of type causal_idx — causal_idx","text":"causal_idx list list integer vector entries represent indices object (like data frame). Generically can used represent graph structure, interference network collection matched objects. main feature causal_idx index references preserved slicing reordering. Indices longer refer elements (subsetting) set NA.","code":""},{"path":"http://corymccartan.com/causaltbl/reference/causal_idx.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct a list of indices of type causal_idx — causal_idx","text":"","code":"causal_idx(x = list())  new_causal_idx(x = list())  is_causal_idx(x)  as_causal_idx(x)"},{"path":"http://corymccartan.com/causaltbl/reference/causal_idx.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct a list of indices of type causal_idx — causal_idx","text":"x causal_idx() new_causal_idx(): list indices type causal_idx is_causal_idx(): object test as_causal_idx(): object coerce","code":""},{"path":"http://corymccartan.com/causaltbl/reference/causal_idx.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct a list of indices of type causal_idx — causal_idx","text":"causal_idx object.","code":""},{"path":"http://corymccartan.com/causaltbl/reference/causal_idx.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Construct a list of indices of type causal_idx — causal_idx","text":"new_causal_idx(): Construct causal_idx list minimal checks is_causal_idx(): Return TRUE object causal_idx list as_causal_idx(): Coerce object causal_idx list","code":""},{"path":"http://corymccartan.com/causaltbl/reference/causal_idx.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Construct a list of indices of type causal_idx — causal_idx","text":"","code":"idx <- causal_idx(list(2, c(1, NA, 3), 2)) print(idx) #> <causal_idx[3]> #> [1] (2)   (1,3) (2)   idx[1:2] # subsetting #> <causal_idx[2]> #> [1] (2) (1) idx[c(2, 1, 3)] # reordering #> <causal_idx[3]> #> [1] (2,3) (1)   (1)"},{"path":"http://corymccartan.com/causaltbl/reference/causal_tbl.html","id":null,"dir":"Reference","previous_headings":"","what":"Build a causal data frame — causal_tbl","title":"Build a causal data frame — causal_tbl","text":"causal_tbl tibble additional attribute information stored causal_cols.  See 'Internal structure' structure attribute.","code":""},{"path":"http://corymccartan.com/causaltbl/reference/causal_tbl.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build a causal data frame — causal_tbl","text":"","code":"causal_tbl(..., .outcome = NULL, .treatment = NULL)  new_causal_tbl(..., .outcome = NULL, .treatment = NULL)  as_causal_tbl(x)  is_causal_tbl(x)"},{"path":"http://corymccartan.com/causaltbl/reference/causal_tbl.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build a causal data frame — causal_tbl","text":"... passed tibble() .outcome column containing outcome variable (tidy-selected). Can set later set_outcome(). .treatment column containing treatment variable (tidy-selected). Can set later set_treatment(). x data frame checked coerced","code":""},{"path":"http://corymccartan.com/causaltbl/reference/causal_tbl.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build a causal data frame — causal_tbl","text":"causal_tbl object","code":""},{"path":"http://corymccartan.com/causaltbl/reference/causal_tbl.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Build a causal data frame — causal_tbl","text":"core, causal_tbl just tibble, behave like tibble every meaningful way. sets causal_tbl apart keeps track causal columns: variables objects play particular causal role. can accessed various getter setter functions included package, like get_outcome() set_outcome().","code":""},{"path":"http://corymccartan.com/causaltbl/reference/causal_tbl.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Build a causal data frame — causal_tbl","text":"new_causal_tbl(): Construct causal_tbl checks as_causal_tbl(): Coerce data frame causal_tbl is_causal_tbl(): Return TRUE data frame causal_tbl","code":""},{"path":"http://corymccartan.com/causaltbl/reference/causal_tbl.html","id":"internal-structure","dir":"Reference","previous_headings":"","what":"Internal structure","title":"Build a causal data frame — causal_tbl","text":"causal_cols attribute considered mostly internal, end users worry internal structure. However, developing packages based causal_tbl, useful understand underlying structure causal_cols. causal_cols attribute named list, element corresponding type causal variable object: outcomes, treatments, panel_unit, also potentially pscore, matches, model, etc. elements character vector, element name column data frame. variables, vector length 1, variables, may multiple columns type. , example, package author developing methods causal inference multiple continuous treatments, treatment element causal_cols entry treatment column. optional names() columns within particular element causal_cols convey information associated variable.  example, treatment variable default associated particular outcome. propensity score outcome model associated particular treatment outcome variable. column names stored within part causal_cols automatically updated columns renamed, set NULL columns dropped. reassignment happens automatically silently cases. responsibility implementers particular methods check causal_tbl necessary columns set via helpers like has_treatment(), has_outcome(), etc.","code":""},{"path":"http://corymccartan.com/causaltbl/reference/causal_tbl.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build a causal data frame — causal_tbl","text":"","code":"data <- causal_tbl(   milk_first = c(0, 1, 0, 1, 1, 0, 0, 1),   guess = c(0, 1, 0, 1, 1, 0, 0, 1) ) is_causal_tbl(data) #> [1] TRUE print(data) #> # A <causal_tbl> [8 × 2] #>                    #>   milk_first guess #>        <dbl> <dbl> #> 1          0     0 #> 2          1     1 #> 3          0     0 #> 4          1     1 #> 5          1     1 #> 6          0     0 #> 7          0     0 #> 8          1     1"},{"path":"http://corymccartan.com/causaltbl/reference/causaltbl-package.html","id":null,"dir":"Reference","previous_headings":"","what":"causaltbl: Tidy Causal Data Frames and Tools — causaltbl-package","title":"causaltbl: Tidy Causal Data Frames and Tools — causaltbl-package","text":"Provides 'causal_tbl' class causal inference. 'causal_tbl' keeps track information roles variables like treatment outcome, provides functionality store models fitted values columns data frame.","code":""},{"path":[]},{"path":"http://corymccartan.com/causaltbl/reference/causaltbl-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"causaltbl: Tidy Causal Data Frames and Tools — causaltbl-package","text":"Maintainer: Cory McCartan cmccartan@g.harvard.edu Authors: Christopher T. Kenny christopherkenny@fas.harvard.edu","code":""},{"path":"http://corymccartan.com/causaltbl/reference/set_outcome.html","id":null,"dir":"Reference","previous_headings":"","what":"Define an outcome variable for a causal_tbl — set_outcome","title":"Define an outcome variable for a causal_tbl — set_outcome","text":"Define outcome variable causal_tbl","code":""},{"path":"http://corymccartan.com/causaltbl/reference/set_outcome.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Define an outcome variable for a causal_tbl — set_outcome","text":"","code":"set_outcome(data, outcome)  get_outcome(data)  has_outcome(data)"},{"path":"http://corymccartan.com/causaltbl/reference/set_outcome.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Define an outcome variable for a causal_tbl — set_outcome","text":"data data frame causal_tbl outcome column containing outcome variable (tidy-selected). Must numeric coercible numeric.","code":""},{"path":"http://corymccartan.com/causaltbl/reference/set_outcome.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Define an outcome variable for a causal_tbl — set_outcome","text":"causal_tbl get_outcome() column name outcome variable has_outcome(), TRUE outcome variable set","code":""},{"path":"http://corymccartan.com/causaltbl/reference/set_outcome.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Define an outcome variable for a causal_tbl — set_outcome","text":"","code":"data <- data.frame(   milk_first = c(0, 1, 0, 1, 1, 0, 0, 1),   guess = c(0, 1, 0, 1, 1, 0, 0, 1) ) |>   set_outcome(guess) print(data) # a causal_tbl #> # A <causal_tbl> [8 × 2] #>              [out] #>   milk_first guess #>        <dbl> <dbl> #> 1          0     0 #> 2          1     1 #> 3          0     0 #> 4          1     1 #> 5          1     1 #> 6          0     0 #> 7          0     0 #> 8          1     1 get_outcome(data) #> [1] \"guess\""},{"path":"http://corymccartan.com/causaltbl/reference/set_panel.html","id":null,"dir":"Reference","previous_headings":"","what":"Define a panel data structure for a causal_tbl — set_panel","title":"Define a panel data structure for a causal_tbl — set_panel","text":"Define panel data structure causal_tbl","code":""},{"path":"http://corymccartan.com/causaltbl/reference/set_panel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Define a panel data structure for a causal_tbl — set_panel","text":"","code":"set_panel(data, unit, time)  get_panel(data)  has_panel(data)"},{"path":"http://corymccartan.com/causaltbl/reference/set_panel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Define a panel data structure for a causal_tbl — set_panel","text":"data data frame causal_tbl unit column indexing treatment units (tidy-selected) time column indexing treatment time (tidy-selected)","code":""},{"path":"http://corymccartan.com/causaltbl/reference/set_panel.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Define a panel data structure for a causal_tbl — set_panel","text":"causal_tbl get_panel() list column names unit time variables has_panel(), TRUE panel data structure","code":""},{"path":"http://corymccartan.com/causaltbl/reference/set_panel.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Define a panel data structure for a causal_tbl — set_panel","text":"","code":"data <- data.frame(   id = c(\"a\", \"a\", \"a\", \"a\", \"b\", \"b\", \"b\", \"b\"),   year = rep(2015:2018, 2),   trt = c(0, 0, 0, 0, 0, 0, 1, 1),   y = c(1, 3, 2, 3, 2, 4, 4, 5) ) |>   set_panel(unit=id, time=year) print(data) # a causal_tbl #> # A <causal_tbl> [8 × 4] #>   [unit] [time]             #>   id       year   trt     y #>   <chr>   <int> <dbl> <dbl> #> 1 a        2015     0     1 #> 2 a        2016     0     3 #> 3 a        2017     0     2 #> 4 a        2018     0     3 #> 5 b        2015     0     2 #> 6 b        2016     0     4 #> 7 b        2017     1     4 #> 8 b        2018     1     5 get_panel(data) #> $unit #> [1] \"id\" #>  #> $time #> [1] \"year\" #>"},{"path":"http://corymccartan.com/causaltbl/reference/set_treatment.html","id":null,"dir":"Reference","previous_headings":"","what":"Define a treatment variable for a causal_tbl — set_treatment","title":"Define a treatment variable for a causal_tbl — set_treatment","text":"Define treatment variable causal_tbl","code":""},{"path":"http://corymccartan.com/causaltbl/reference/set_treatment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Define a treatment variable for a causal_tbl — set_treatment","text":"","code":"set_treatment(data, treatment, outcome = get_outcome())  get_treatment(data)  has_treatment(data)"},{"path":"http://corymccartan.com/causaltbl/reference/set_treatment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Define a treatment variable for a causal_tbl — set_treatment","text":"data data frame causal_tbl treatment column containing treatment variable (tidy-selected). Must numeric coercible numeric. outcome column containing corresponding outcome variable (tidy-selected). Default get_outcome()","code":""},{"path":"http://corymccartan.com/causaltbl/reference/set_treatment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Define a treatment variable for a causal_tbl — set_treatment","text":"causal_tbl get_treatment() column name treatment variable. outcome variable set, output name() outcome column. has_treatment(), TRUE treatment variable set","code":""},{"path":"http://corymccartan.com/causaltbl/reference/set_treatment.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Define a treatment variable for a causal_tbl — set_treatment","text":"","code":"data <- data.frame(   milk_first = c(0, 1, 0, 1, 1, 0, 0, 1),   guess = c(0, 1, 0, 1, 1, 0, 0, 1) ) |>   set_treatment(milk_first) print(data) # a causal_tbl #> # A <causal_tbl> [8 × 2] #>        [trt]       #>   milk_first guess #>        <dbl> <dbl> #> 1          0     0 #> 2          1     1 #> 3          0     0 #> 4          1     1 #> 5          1     1 #> 6          0     0 #> 7          0     0 #> 8          1     1 get_treatment(data) #> [1] \"milk_first\""},{"path":"http://corymccartan.com/causaltbl/news/index.html","id":"causaltbl-010","dir":"Changelog","previous_headings":"","what":"causaltbl 0.1.0","title":"causaltbl 0.1.0","text":"Initial package release causal_tbl class tracks causal-inference-related columns causal_idx type can keep track relationships rows","code":""}]
