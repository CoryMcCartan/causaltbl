<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="The causal_mod class acts like a vector of fitted values, but it also
stores the fitted model for later predictions and summaries, and keeps track
of observations that have been dropped (e.g. due to missingness) or subsetted."><title>Construct a fitted model column — causal_mod • causaltbl</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Construct a fitted model column — causal_mod"><meta property="og:description" content="The causal_mod class acts like a vector of fitted values, but it also
stores the fitted model for later predictions and summaries, and keeps track
of observations that have been dropped (e.g. due to missingness) or subsetted."><meta property="og:image" content="http://corymccartan.com/causaltbl/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">causaltbl</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/advanced.html">Advanced `causal_tbl`</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/CoryMcCartan/causaltbl/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Construct a fitted model column</h1>
      <small class="dont-index">Source: <a href="https://github.com/CoryMcCartan/causaltbl/blob/HEAD/R/causal_mod.R" class="external-link"><code>R/causal_mod.R</code></a></small>
      <div class="d-none name"><code>causal_mod.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>causal_mod</code> class acts like a vector of fitted values, but it also
stores the fitted model for later predictions and summaries, and keeps track
of observations that have been dropped (e.g. due to missingness) or subsetted.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">causal_mod</span><span class="op">(</span><span class="va">x</span>, idx <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">new_causal_mod</span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>, fitted <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/double.html" class="external-link">double</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>, idx <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">fitted</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">is_causal_mod</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><ul><li><p>For <code>causal_mod()</code> and <code>new_causal_mod()</code>: A fitted model object.
For <code>causal_mod()</code> this should support the <code><a href="https://rdrr.io/r/stats/fitted.values.html" class="external-link">fitted()</a></code> generic.</p></li>
<li><p>For <code>is_causal_mod()</code>: An object to test</p></li>
</ul></dd>


<dt>idx</dt>
<dd><p>A set of indices that connect observations fed into the model with
fitted values. Should contain values from 1 to the number of fitted values,
and may contain <code>NA</code> values for observations with no corresponding fitted
value (such as those with missing data). Defaults to a sequence over the
fitted values, with <code>NA</code>s determined by <code><a href="https://rdrr.io/r/stats/na.action.html" class="external-link">na.action()</a></code>.</p></dd>


<dt>fitted</dt>
<dd><p>A vector of fitted values.  Extracted automatically from the
model object in <code>causal_mod()</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A <code>causal_mod</code> object. For <code>is_causal_mod()</code>, a logical value.</p>
    </div>
    <div class="section level2">
    <h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a></h2>
    
<ul><li><p><code>new_causal_mod()</code>: Construct a <code>causal_mod</code> with minimal checks</p></li>
<li><p><code>is_causal_mod()</code>: Return <code>TRUE</code> if an object is an <code>causal_mod</code> list</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">yield</span> <span class="op">~</span> <span class="va">block</span> <span class="op">+</span> <span class="va">N</span><span class="op">*</span><span class="va">P</span><span class="op">*</span><span class="va">K</span>, data<span class="op">=</span><span class="va">npk</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">causal_mod</span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;causal_mod[24]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 50.89 58.33 51.83 55.06 65.1  55.7  53.33 55.67 58.99 59.02 68.42 56.66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13] 57.77 48.38 46.01 48.34 54.82 48.32 51.56 47.39 57.38 60.65 53.22 54.15</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="va">npk</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">m_mis</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">yield</span> <span class="op">~</span> <span class="va">block</span> <span class="op">+</span> <span class="va">N</span><span class="op">*</span><span class="va">P</span><span class="op">*</span><span class="va">K</span>, data<span class="op">=</span><span class="va">d</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/fitted.values.html" class="external-link">fitted</a></span><span class="op">(</span><span class="va">m_mis</span><span class="op">)</span> <span class="co"># length doesn't match rows of `d`</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        2        3        4        5        6        7        8        9 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 50.89167 58.32500 51.82500 55.05833 65.10000 55.70000 53.33333 55.66667 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       10       11       12       13       14       15       16       17 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 58.99167 59.02500 68.42500 56.65833 57.77500 48.37500 46.00833 48.34167 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       18       19       20       21       22       23       24       25 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 54.82500 48.32500 51.55833 47.39167 57.38333 60.65000 53.21667 54.15000 </span>
<span class="r-in"><span><span class="fu">causal_mod</span><span class="op">(</span><span class="va">m_mis</span><span class="op">)</span> <span class="co"># NA for missing value</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;causal_mod[25]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] NA    50.89 58.33 51.83 55.06 65.1  55.7  53.33 55.67 58.99 59.02 68.42</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13] 56.66 57.77 48.38 46.01 48.34 54.82 48.32 51.56 47.39 57.38 60.65 53.22</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [25] 54.15</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="fu">causal_mod</span><span class="op">(</span><span class="va">m_mis</span><span class="op">)</span>, <span class="st">"idx"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] NA  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Cory McCartan, Christopher T. Kenny.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

